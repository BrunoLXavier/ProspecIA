# ProspecIA - Environment Variables Template
# Copy this file to .env and fill in your values

# ============================================
# Application
# ============================================
APP_NAME=ProspecIA
APP_VERSION=1.0.0
ENV=development
DEBUG=true

# ============================================
# FastAPI Backend
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_CREDENTIALS=true

# ============================================
# PostgreSQL Database
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=prospecai
POSTGRES_USER=prospecai_user
POSTGRES_PASSWORD=change_me_postgres_password
POSTGRES_SCHEMA=public

# Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ============================================
# Neo4j Graph Database
# ============================================
NEO4J_HOST=neo4j
NEO4J_PORT=7687
NEO4J_HTTP_PORT=7474
NEO4J_USER=neo4j
NEO4J_PASSWORD=change_me_neo4j_password
NEO4J_DATABASE=neo4j

# ============================================
# Apache Kafka
# ============================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_AUDIT=audit-logs
KAFKA_TOPIC_LGPD=lgpd-decisions
KAFKA_TOPIC_NOTIFICATIONS=notifications
KAFKA_GROUP_ID=prospecai-consumer

# Zookeeper
ZOOKEEPER_HOST=zookeeper
ZOOKEEPER_PORT=2181

# ============================================
# Keycloak (Identity & Access Management)
# ============================================
KEYCLOAK_HOST=keycloak
KEYCLOAK_PORT=8080
KEYCLOAK_REALM=prospecai
KEYCLOAK_CLIENT_ID=prospecai-backend
KEYCLOAK_CLIENT_SECRET=change_me_keycloak_secret
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=change_me_keycloak_admin_password

# JWT Settings
JWT_SECRET_KEY=change_me_jwt_secret_key_min_32_characters_long
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7

# ============================================
# MinIO (Object Storage)
# ============================================
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change_me_minio_password
MINIO_BUCKET_NAME=prospecai-storage
MINIO_ACCESS_KEY=prospecai_access_key
MINIO_SECRET_KEY=change_me_minio_secret_key

# ============================================
# MLflow (ML Model Registry)
# ============================================
MLFLOW_HOST=mlflow
MLFLOW_PORT=5000
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_BACKEND_STORE_URI=postgresql://prospecai_user:change_me_postgres_password@postgres:5432/mlflow
MLFLOW_ARTIFACT_ROOT=s3://mlflow-artifacts/

# ============================================
# Prometheus (Metrics)
# ============================================
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090

# ============================================
# Grafana (Dashboards)
# ============================================
GRAFANA_HOST=grafana
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_grafana_password

# ============================================
# Loki (Log Aggregation)
# ============================================
LOKI_HOST=loki
LOKI_PORT=3100

# ============================================
# Security & Encryption
# ============================================
# AES-256 Key for field-level encryption (64 hex characters)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Password Hashing
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_HASH_ROUNDS=12

# ============================================
# Feature Flags
# ============================================
FEATURE_AI_SUGGESTIONS=true
FEATURE_JWT_REQUIRED=false
FEATURE_RLS_ENABLED=false
FEATURE_AUDIT_LOGGING=true
FEATURE_LGPD_AGENT=true

# AI Model Versions
FEATURE_USE_MODEL_V2_MATCHING=false
FEATURE_AB_TEST_PERCENTAGE=10

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================
# File Upload Limits
# ============================================
MAX_UPLOAD_SIZE_MB=100
ALLOWED_FILE_TYPES=csv,json,pdf,xlsx

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_TO_FILE=false
LOG_FILE_PATH=/var/log/prospecai/app.log

# ============================================
# Monitoring & Health Checks
# ============================================
HEALTH_CHECK_INTERVAL_SECONDS=30
METRICS_ENABLED=true

# ============================================
# External APIs
# ============================================
# Receita Federal API for CNPJ validation
RECEITA_FEDERAL_API_URL=https://www.receitaws.com.br/v1

# ============================================
# Multi-Tenancy
# ============================================
DEFAULT_TENANT_ID=nacional
TENANT_ISOLATION_ENABLED=false

# ============================================
# Data Retention
# ============================================
AUDIT_LOG_RETENTION_YEARS=5
TEMP_FILE_RETENTION_HOURS=24
